# ECE1783A3

How to run:
1. place the yuv video file into the folder

2. You can modify the parameters in the config.txt file under section [ENCODER] to try different decoding configuration.
   *remember to change the [file_name] to the correct video file name
   
3. To run encoder: python3 main.py 1
   * At first time, the program will extract y frames from the YUV video and save them to a folder.
   * Also, runing some configuration at the first time requires generating the bit rate table, this may take 5 to 10 minutes

4. After encoding, a new folder will be generated under the current directory with a long name.
   The folder contains intermediate files for debugging and output files of compressed binary and visulization figrues.
      encoded_binary -- contain the encoded binary file per frame after encoding
      mode_and_motion_vector -- contain the mode for each block in I frame and motion vector for each block in P frame
      residual -- contain the residual blocks during intra prediction and MC, for debug purposes
      visualization_outputs -- contain visual images for comparison, for debug purposes
      y_frames_reconstrcuted -- contain reconstructed Y frames directly from encoder side

5. Before runing the decoder, check and modify the output_dir under section [DECODER] in config.txt.
   Output_dir should be the name of the generated folder you want to decode.
      For example, output_dir = FRAME10I16R4QP2-nref2Falseintra0.08inter0.01TrueTrue
   
6. To run decoder: python3 main.py 2

7. After decoding, a new folder called "y_frames_decoded" will be added to the folder generated by the encoder.
       y_frames_decoded -- Generated by decoder. Contain decoded Y frames. Decoded from binary files
    
   New figures of original frame and decoded frames will also be added in visualization_outputs folder.
